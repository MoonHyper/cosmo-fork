use "assert"

float|int fn missing((float|int)[] seq) {
  unless #seq > 1
    throw "Sequence must have more than one element"

  int n = #seq + 1
  int expected_sum = ((n * (seq[0] + seq[-1])) / 2).floor()
  float|int actual_sum = seq.sum()

  expected_sum - actual_sum
}

Assert::eq(missing([1, 3, 4, 5]), 2)
Assert::eq(missing([2, 4, 6, 8, 10, 14, 16]), 12)
Assert::eq(missing([1.5, 2, 3]), 2.5)

